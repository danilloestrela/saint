#!/bin/bash
# depends on .saint / .saintHelpers
# Specific functions for ${newProjName}


# Getting current folder
local thisLocation=''

if [ -n "$ZSH_VERSION" ]; then
    local script_path=${(%):-%x}
    thisLocation=$(dirname "${script_path}")
else
    local script_path=${BASH_SOURCE[0]}
    thisLocation=$(dirname "${script_path}")
fi

# Function to update help by parsing comments
${newProjNameForBash}_help() {
    saint_project_help ${${projNameUppercasedForBash}_HELP_FILE} ${newProjName}
}

# Function to show help
${newProjNameForBash}_update_help() {
  saint_project_update_help ${${projNameUppercasedForBash}_HELP_FILE} ${${projNameUppercasedForBash}_SCRIPT_FILE} \
  "${newProjNameForBash}_code" "${newProjNameForBash}_goto" "${newProjNameForBash}_run" "${newProjNameForBash}_install"
}

# Template of run
# "install" is usually used to install some project on your side. I use it mainly for js projects,
# but you can addapt it for the one of your choice (go, rust, php, etc)
${newProjNameForBash}_install() {
    lastCommand=$1
    case $2 in
        # Add cases here
        # Ex: site) ${newProjNameForBash}_goto ${lastCommand} ${${projNameForBash}Variable} && npm i || cd - ;;
        "") saint_empty $lastCommand;;
        *) saint_invalid_command $lastCommand $newProjName;;
    esac
}


# Template of run
# "run" is usually used to run some project on your side. I use it mainly for js projects,
# but you can addapt it for the one of your choice (go, rust, php, etc)
${newProjNameForBash}_run() {
    lastCommand=$1
    case $2 in
        # Add cases here
        # Ex: site) ${newProjNameForBash}_goto ${lastCommand} ${${projNameForBash}Variable} && npm run dev || cd - ;;
        "") saint_empty $lastCommand;;
        *) saint_invalid_command $lastCommand $newProjName;;
    esac
}


# Template of code
# "code" function is usually used to open your project on visual code. you can addapt it to your own IDE
${newProjNameForBash}_code() {
    lastCommand=$1
    newProjName=$2
    case $newProjName in
        # Add cases here
        # Ex: site) saint_cd_open_code ${${projNameForBash}Variable} || cd - ;;
        root) saint_cd_open_code ${${projNameForBash}Path} || cd - ;;
        "") saint_empty $lastCommand;;
        *) saint_invalid_command $lastCommand $newProjName;;
    esac
}


# Template of goto
${newProjNameForBash}_goto() {
    lastCommand=$1
    newProjName=$2
    case $newProjName in
        # Add cases here
        # Ex: site) saint_cd ${${projNameForBash}Variable} || cd - ;;
        root) saint_cd ${${projNameForBash}Path} || cd - ;;
        "") saint_empty $lastCommand;;
        *) saint_invalid_command $lastCommand $newProjName;;
    esac
}


# Loading Main Commands
source ${thisLocation}/.mainCommands
# Loading Alias
source ${thisLocation}/.alias